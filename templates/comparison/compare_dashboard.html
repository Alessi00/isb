{% extends 'base.html' %}
{% load staticfiles %}

{% block title %} Cohort Comparison | ISB-CGC {% endblock %}
{% block extra_css_libs %}{% endblock %}

{% block header %}

    <!-- custom css -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/compare_dashboard.css' %}"/>
    <link type="text/css" rel="stylesheet" href="{% static 'css/jquery.qtip.min.css' %}"/>
    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
            integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
            crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
            integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
            crossorigin="anonymous"></script>
    <!-- D3js lib -->
    <script type="text/javascript" src="{% static 'js/libs/d3.v5.min.js' %}"></script>
    <!-- venn.js lib -->
    <script src="https://cdn.rawgit.com/benfred/venn.js/master/venn.js"></script>

{% endblock %}


{% block link_page_name %}cohort-comparison{% endblock %}
{% block page_name %}cohort-comparison{% endblock %}

{% block page_header %}
    <div class="container">
        <ol class="breadcrumb">
            <li><a href="{% url 'dashboard' %}">Your Dashboard</a></li>
            <li><a href="{% url 'cohort_list' %}">Saved Cohorts</a></li>
        </ol>
        <h1 class="page-header">Cohort Comparison Dashboard</h1>
    </div>
{% endblock page_header %}

{% block content %}

    <div class="content-container">
        <div class="panel-invisible" id="panel">
            <!-- tabs of panel -->
            <ul class="nav nav-tabs_excel" role="tablist" id="comparison-tabs">
                <li role="presentation" class="active">
                    <a href="#label-comp-tab" id="comp-tab" role="tab" data-toggle="tab"
                       data-toggle-type="comparison">Comparison 1</a>
                    <div class="dropdown">
                        <a class="dropdown-toggle comparison-drop" id="dropdown-label" role="button"
                           data-toggle="dropdown"><i
                                class="fa fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li role="menuitem"><a data-toggle="modal" role="button" data-target="">Edit details</a>
                            </li>
                            <li role="menuitem"><a data-toggle="modal" role="button" data-target="">Delete</a></li>
                        </ul>
                    </div>
                </li>
                <!-- plus sign for adding another comparison-->
                <li><a href="{% url 'cohort_list' %}"><i class="fa fa-plus"></i></a></li>
            </ul>


            <div class="tab-content">
                <div class="tab-pane fade in active" id="label-comp-tab" role="tabpanel">
                    <nav id="sidebar">
                        <div class="sidebar-header">
                            <h3 id="sidebar-title">Set Difference</h3>
                        </div>
                        <div id="venn-diagram"></div>
                        <div class="card" id="labels-card">
                            <div class="card-content" id="card-body">
                                <form id="sel-labels" method="post" action="">
                                    <p id="form-title" class="h4 text-left py-4">Select labels:</p>
                                    <div class="form-check">
                                        <input type="checkbox" class="custom-control-input"
                                               id="survival-analysis"
                                               checked>
                                        <label class="custom-control-label" for="survival-analysis">Survival
                                            Analysis</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" class="custom-control-input" id="age" unchecked>
                                        <label class="custom-control-label" for="age">Age at Diagnosis</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" class="custom-control-input" id="gender"
                                               unchecked>
                                        <label class="custom-control-label" for="gender">Gender</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" class="custom-control-input" id="vital-status"
                                               unchecked>
                                        <label class="custom-control-label" for="vital-status">Vital
                                            Status</label>
                                    </div>
                                    <div class="form-group">
                                        <button class="btn btn-default" type="submit">Submit</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </nav>

                    <div id="content">
                        <nav class="navbar content-collapse">
                            <div class="container-fluid">
                                <a href="#">
                                    <span class="fas fa-align-justify fa-2x" id="sidebarCollapse"></span>
                                </a>
                                <button class="btn btn-primary pull-right" id="save-but">Save Comparison</button>
                            </div>
                        </nav>
                        <div class="worksheet-header">
                            <p>The user's optional description of the comparison goes here!</p>
                        </div>
                        <div id="svg-container">
                            <div class="survival">
                                <svg id="surv-analysis" viewBox="0 0 580 350"></svg>
                                <div class="table-responsive">
                                    <table class="table" id="survival-table">
                                        <thead>
                                        <tr>
                                            <th scope="col">All Cases in Analysis</th>
                                            <th scope="col"># Cases S1</th>
                                            <th scope="col"># Cases S2</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="gender">
                                <svg id="gender-canvas" viewBox="0 0 580 350"></svg>
                                <div class="table-responsive">
                                    <table class="table" id="gender-table">
                                        <thead>
                                        <tr>
                                            <th scope="col">Gender</th>
                                            <th scope="col"># Cases S1</th>
                                            <th scope="col"># Cases S2</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="vital">
                                <svg id="vital-canvas" viewBox="0 0 580 350"></svg>
                                <div class="table-responsive">
                                    <table class="table" id="vital-table">
                                        <thead>
                                        <tr>
                                            <th scope="col">Vital Status</th>
                                            <th scope="col"># Cases S1</th>
                                            <th scope="col"># Cases S2</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="age">
                                <svg id="age-canvas" viewBox="0 0 580 350"></svg>
                                <div class="table-responsive">
                                    <table class="table" id="age-table">
                                        <thead>
                                        <tr>
                                            <th scope="col">Age at Diagnosis</th>
                                            <th scope="col"># Cases S1</th>
                                            <th scope="col"># Cases S2</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var base_url = '{{ base_url|safe }}';
    </script>

{% endblock content %}

{% block js_file %}
    {{ block.super }}
    <script src="{% static 'js/compare_dashboard.js' %}"></script>
{% endblock %}