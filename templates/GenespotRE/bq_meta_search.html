{% extends 'base.html' %}
{% load staticfiles %}
{% block extra_css_libs %}
{% endblock %}

{% block title %}
    ISB-CGC|BigQuery Table Searche
{% endblock %}
{% block description %}
    BigQuery Table Search
{% endblock %}
{% block page_name %}bq-meta-searcher{% endblock %}
{% block page_header %}
    <div class="bq-header-container container">
        <h1 class="page-header">BigQuery Table Search</h1>
        <ul class="nav">
            <li class="navbar-item">
                <a class="nav-link"
                   href="https://isb-cancer-genomics-cloud.readthedocs.io/en/latest/sections/BigQuery.html"
                   target="_blank">ISB-CGC BigQuery Documentation<i class="fa fa-external-link" aria-hidden="true"></i></a>
            </li>
            <li class="navbar-item">
                <a class="nav-link"
                   href="https://isb-cancer-genomics-cloud.readthedocs.io/en/latest/sections/HowTos.html"
                   target="_blank">ISB-CGC Notebooks<i class="fa fa-external-link" aria-hidden="true"></i></a>
            </li>
            <li class="navbar-item">
                <a class="nav-link"
                   href="https://bigquery.cloud.google.com"
                   target="_blank">Google BigQuery Console<i class="fa fa-external-link" aria-hidden="true"></i></a>
            </li>
            <li class="navbar-item">
                <a class="nav-link"
                   href="https://cloud.google.com/bigquery/what-is-bigquery"
                   target="_blank">About BigQuery<i class="fa fa-external-link" aria-hidden="true"></i></a>
            </li>
        </ul>
    </div>
{% endblock %}

{% block content %}

    <div class="col-lg-3 col-md-3 col-sm-3">
        <div class="panel panel-default">
            <div class="panel-body">
                <form id="bq-meta-form">
                    <div>
                        <label style="padding-right: 5px;" for="advSearch">Advanced Search</label>
                            Off
                            <label class="switch" for="advSearchToggler" data-toggle="collapse" data-target="#advSearch0">
                                <input type="checkbox"
                                       aria-expanded="false"
                                       aria-controls="advSearch0 advSearch1 advSearch2"
                                       name="advSearch" id="advSearchToggler">
                                <span class="slider round"></span>
                            </label>
                            On
                    </div>
                    <div>
                        <label>Status</label>
                        <select id="status" class="form-control bq-select" data-column-name="status">
                            {% for option in Status.options %}
                                <option selected value="{{ option.value }}">{{ option.label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label>Category</label>
                        {% for option in Category.options %}
                            <br>
                            <input type="checkbox" class="bq-checkbox" name="cat_{{ forloop.counter0 }}" id="cat_chbx_{{ forloop.counter0 }}"
                                   value="{{ option.value }}" data-column-name="category">
                            <label for="cat_chbx_{{ forloop.counter0 }}">{{ option.label }}</label>
                            <i class="fa fa-info-circle" data-placement="bottom" title="{{ option.description }}"></i>
                        {% endfor %}
                    </div>
                    <div>
                        <label>Reference Genome</label>
                        <select class="form-control bq-select" data-column-name="referenceGenome">reference_genome
                            {% for option in Reference_Genome.options %}
                                <option value="{{ option.value }}">{{ option.label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label>Source</label>
                        <select class="autocomplete_select_box form-control bq-select" data-column-name="source">
                            {% for option in Source.options %}
                                <option value="{{ option.value }}">{{ option.label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label>Data Type</label>
                        <select class="form-control bq-select" data-column-name="dataType">
                            {% for option in Data_Type.options %}
                                <option value="{{ option.value }}">{{ option.label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div id="advSearch0" class="adv-div collapse">
                        <div>
                            <label>Dataset ID</label>
                            <input type="text" class="form-control bq-filter" data-column-name="datasetId">
                        </div>
                        <div>
                            <label>Table ID</label>
                            <input type="text" class="form-control bq-filter" data-column-name="tableId">
                        </div>
                        <div>
                            <label>Table Description</label>
                            <input type="text" class="form-control bq-filter" data-column-name="description">
                        </div>
                        <div>
                            <label>Labels</label>
                            <input type="text" class="form-control bq-filter" data-column-name="labels">
                        </div>
                        <div>
                            <label>Field Name</label>
                            <input type="text" class="form-control bq-filter" data-column-name="fields">
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-9">
        <div class="panel panel-default">
            <div class="panel-body">
                <table id="bqmeta" class="table table-striped" style="width:100%">
                    <thead>
                    <tr>
                        <th style="width:3%;"></th>
                        {#                        <th>Project ID</th>#}
                        <th style="width:20%;">Dataset ID</th>
{#                        <th>Table ID</th>#}
{#                        <th>Full ID</th>#}
                        <th style="width:19%;">Table ID</th>
                        <th style="width:19%;">Full ID</th>
                        <th style="width:9%;">Status</th>
                        <th style="width:8%;">Category</th>
                        <th>Reference Genome</th>
                        <th>Source</th>
                        <th>Data Type</th>
                        <th style="width:8%;">Num Rows</th>
                        <th style="width:8%;">Created Date</th>
                        <th style="width:7%;">Preview</th>
                        <th style="width:7%;">Description</th>
                        <th>Labels</th>
                        <th>Fields</th>

                        {#                        <th>Link</th>#}
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

        </div>
    </div>
    {#    </div>#}

{% endblock %}

{% block js_file %}{% static 'js/bq_meta_search.js' %}{% endblock %}
